p8105_hw3_ss6692
================
2023-10-11

## Problem 2

``` r
library(tidyverse)
library(readxl)
library(dplyr)
library(janitor)
library(tidyr)
library(knitr)
```

## Problem 2

### Loading the dataset

``` r
library(p8105.datasets)
data("brfss_smart2010")
```

### Here, we are cleaning the data and filtering for “Overall Health.” We will then order the responses from Poor to Excellent.

``` r
brfss_df = brfss_smart2010 |>
  janitor::clean_names()|>
  select(-locationabbr)|>
  separate(locationdesc, into = c("state", "county"), sep = " - ")|>
    filter(topic == "Overall Health" & response %in% c("Excellent", "Very good", "Good", "Fair", "Poor")) |>
    mutate(response = factor(response, levels = c("Poor", "Fair", "Good", "Very Good", "Excellent"), ordered = TRUE))|>
filter(!is.na(response))
```

## Now, we will find which states which states were observed at 7 or more locations in 2002.

``` r
brfss_2002_df = 
   brfss_df|>
    filter(year == 2002) |>
    group_by(state) |>
    summarize(count = n()) |>
    filter(count >= 7)
kable(brfss_2002_df)
```

| state | count |
|:------|------:|
| AZ    |     8 |
| CO    |    16 |
| CT    |    28 |
| DE    |    12 |
| FL    |    28 |
| GA    |    12 |
| HI    |    16 |
| ID    |     8 |
| IL    |    12 |
| IN    |     8 |
| KS    |    12 |
| LA    |    12 |
| MA    |    32 |
| MD    |    24 |
| ME    |     8 |
| MI    |    16 |
| MN    |    16 |
| MO    |     8 |
| NC    |    28 |
| NE    |    12 |
| NH    |    20 |
| NJ    |    32 |
| NV    |     8 |
| NY    |    20 |
| OH    |    16 |
| OK    |    12 |
| OR    |    12 |
| PA    |    40 |
| RI    |    16 |
| SC    |    12 |
| SD    |     8 |
| TN    |     8 |
| TX    |     8 |
| UT    |    20 |
| VT    |    12 |
| WA    |    16 |

## Now we are finding the same information for 2010.

``` r
brfss_2010_df = 
   brfss_df|>
    filter(year == 2010) |>
    group_by(state) |>
    summarize(count = n()) |>
    filter(count >= 7)
kable(brfss_2010_df)
```

| state | count |
|:------|------:|
| AL    |    12 |
| AR    |    12 |
| AZ    |    12 |
| CA    |    48 |
| CO    |    28 |
| CT    |    20 |
| DE    |    12 |
| FL    |   164 |
| GA    |    16 |
| HI    |    16 |
| IA    |     8 |
| ID    |    24 |
| IL    |     8 |
| IN    |    12 |
| KS    |    16 |
| LA    |    20 |
| MA    |    36 |
| MD    |    48 |
| ME    |    24 |
| MI    |    16 |
| MN    |    20 |
| MO    |    12 |
| MS    |     8 |
| MT    |    12 |
| NC    |    48 |
| ND    |    12 |
| NE    |    40 |
| NH    |    20 |
| NJ    |    76 |
| NM    |    24 |
| NV    |     8 |
| NY    |    36 |
| OH    |    32 |
| OK    |    12 |
| OR    |    16 |
| PA    |    28 |
| RI    |    20 |
| SC    |    28 |
| SD    |     8 |
| TN    |    20 |
| TX    |    64 |
| UT    |    24 |
| VT    |    24 |
| WA    |    40 |
| WY    |     8 |

In 2002, the following states `r kable(brfss_2002_df)` were observed at
7 or more locations.
